(this.webpackJsonpcitysize=this.webpackJsonpcitysize||[]).push([[0],{28:function(e,t,n){e.exports=n(59)},33:function(e,t,n){},34:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(24),r=n.n(o),c=(n(33),n(34),n(7)),l=n(8),i=n(10),u=n(9),h=n(11),p=n(60),d=n(3),f=n.n(d),y=(n(35),n(36),n(14)),m=n.n(y),g=n(61),b=n(12),j=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"createLeafletElement",value:function(e){return f.a.mapboxGL(e)}}]),t}(g.a);j.propTypes={accessToken:m.a.string.isRequired,style:m.a.string},j.defaultProps={style:"mapbox://styles/mapbox/streets-v9"};var v,k=Object(b.b)(j),C=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return[e,e]},E=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},O=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){n.props.returnResult(e.target)},n.state={},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.props.searchResults.map((function(t){return s.a.createElement("div",{className:"searchResult",value:t.place_id,onClick:e.handleClick,key:t.place_id},s.a.createElement("h4",null,t.display_name),s.a.createElement("p",null,"Border Type: ",E(t.type)),s.a.createElement("p",null,t.lat),s.a.createElement("p",null,t.lon))})))}}]),t}(s.a.Component),S=n(26),I=n.n(S),F={type:"Feature",name:"",properties:{},geometry:{type:"Polygon",coordinates:[[]]}},R=function(e){return"MultiPolygon"===e[0].geojson.type?v=e[0].geojson.coordinates[0][0]:"Polygon"===e[0].geojson.type&&(v=e[0].geojson.coordinates[0]),F.geometry.coordinates[0]=v,F.name=e[0].display_name.split(",")[0],F},M=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSearchResultClick=function(e){var t=e.getAttribute("value"),a=n.state.searchResults.filter((function(e){return e.place_id===parseInt(t)}));R(a),n.props.addOutline(R(a))},n.handleSearch=function(e){e.target.value.length>3?I.a.get("https://nominatim.openstreetmap.org/search.php?q=".concat(e.target.value,"&polygon_geojson=1&format=json&limit=5")).then((function(e){var t=e.data.filter((function(e){return e.geojson?"MultiPolygon"===e.geojson.type||"Polygon"===e.geojson.type:null}));n.setState({searchResults:t})})):e.target.value.length<3&&n.setState({searchResults:[]})},n.setFocus=function(e){"mouseenter"===e.type?n.setState({focused:!0}):"mouseleave"===e.type&&n.setState({focused:!1})},n.toggleUI=function(e){"blur"===e.type&&!0===n.state.focused?n.focusInput():"blur"===e.type&&!1===n.state.focused?n.setState({searchStyle:{display:"none"}}):"focus"===e.type&&n.setState({searchStyle:{display:"block"}})},n.focusInput=function(){n.refs.searchbar.focus()},n.state={searchResults:[],searchStyle:{display:"block"},focused:!0,loader:{display:"none"},style:{}},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.focusInput(),this.refs.searchbar.onkeypress=function(e){13===(e.charCode||e.keyCode||0)&&e.preventDefault()}}},{key:"render",value:function(){return s.a.createElement("div",{onChange:this.handleSearch,onClick:this.collapseSearch,onMouseEnter:this.setFocus,onMouseLeave:this.setFocus,id:"interface"},s.a.createElement("div",{id:"searchBox",onMouseEnter:this.setFocus,style:this.state.style},s.a.createElement("input",{ref:"searchbar",type:"search",placeholder:"Search locations, cities, countries, states...",onMouseEnter:this.setFocus,onBlur:this.toggleUI,onFocus:this.toggleUI}),s.a.createElement("div",{id:"searchIconContainer"},s.a.createElement("div",{id:"searchIcon"})),s.a.createElement("div",{id:"searchResults",onMouseEnter:this.setFocus,style:this.state.searchStyle},s.a.createElement(O,{onClick:this.focusInput,returnResult:this.handleSearchResultClick,searchResults:this.state.searchResults}))))}}]),t}(s.a.Component),x=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).setCity=function(e,t){e,n.addCityLayer(e,t)},n.addCityLayer=function(e,t){var a=n.refs.map.leafletElement,s=C();f.a.trueSize(e,{markerDiv:"<h2>".concat(e.name,"</h2>"),iconAnchor:[35,35],fill:!0,fillColor:s[0],fillOpacity:.15,color:"black",weight:3,opacity:1,stroke:!0}).addTo(a)},n.handleClick=function(e){console.log(e.latlng)},n.state={lat:30,lng:0,zoom:3,selectedCity:"",focus:{}},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=[this.state.lat,this.state.lng];return s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a,{center:e,zoom:this.state.zoom,zoomSnap:"0.25",onClick:this.handleClick,ref:"map"},s.a.createElement(k,{accessToken:"pk.eyJ1IjoiZGJlbGxidHIiLCJhIjoiY2p5dTF5OXltMDFrOTNjbWxqdjZ5NmV2MCJ9.kkIqnzU12LF90W8yr-jsJw",style:"mapbox://styles/mapbox/light-v10"})),s.a.createElement(M,{addOutline:this.setCity}))}}]),t}(s.a.Component);var z=function(){return s.a.createElement(x,null)};r.a.render(s.a.createElement(z,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.06115217.chunk.js.map